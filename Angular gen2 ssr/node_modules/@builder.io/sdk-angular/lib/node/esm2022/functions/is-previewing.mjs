import { getSearchString } from '../helpers/search/search';
import { isBrowser } from './is-browser';
export function isPreviewing(_search) {
    const search = _search || (isBrowser() ? window.location.search : undefined);
    /**
     * If this function is called on the server without an explicit `search` argument,
     * then it can't check if the user is previewing, and will return `false`.
     */
    if (!search) {
        return false;
    }
    const normalizedSearch = getSearchString(search);
    return Boolean(normalizedSearch.indexOf('builder.preview=') !== -1);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtcHJldmlld2luZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9mdW5jdGlvbnMvaXMtcHJldmlld2luZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDM0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUN6QyxNQUFNLFVBQVUsWUFBWSxDQUFDLE9BQWdCO0lBQzNDLE1BQU0sTUFBTSxHQUFHLE9BQU8sSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFN0U7OztPQUdHO0lBQ0gsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNYLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFDRCxNQUFNLGdCQUFnQixHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqRCxPQUFPLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3RFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFNlYXJjaCB9IGZyb20gJy4uL2hlbHBlcnMvc2VhcmNoL3NlYXJjaCc7XG5pbXBvcnQgeyBnZXRTZWFyY2hTdHJpbmcgfSBmcm9tICcuLi9oZWxwZXJzL3NlYXJjaC9zZWFyY2gnO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi9pcy1icm93c2VyJztcbmV4cG9ydCBmdW5jdGlvbiBpc1ByZXZpZXdpbmcoX3NlYXJjaD86IFNlYXJjaCkge1xuICBjb25zdCBzZWFyY2ggPSBfc2VhcmNoIHx8IChpc0Jyb3dzZXIoKSA/IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggOiB1bmRlZmluZWQpO1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiB0aGUgc2VydmVyIHdpdGhvdXQgYW4gZXhwbGljaXQgYHNlYXJjaGAgYXJndW1lbnQsXG4gICAqIHRoZW4gaXQgY2FuJ3QgY2hlY2sgaWYgdGhlIHVzZXIgaXMgcHJldmlld2luZywgYW5kIHdpbGwgcmV0dXJuIGBmYWxzZWAuXG4gICAqL1xuICBpZiAoIXNlYXJjaCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkU2VhcmNoID0gZ2V0U2VhcmNoU3RyaW5nKHNlYXJjaCk7XG4gIHJldHVybiBCb29sZWFuKG5vcm1hbGl6ZWRTZWFyY2guaW5kZXhPZignYnVpbGRlci5wcmV2aWV3PScpICE9PSAtMSk7XG59Il19