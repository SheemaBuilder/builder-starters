import { Component, Input } from "@angular/core";
import { CommonModule } from "@angular/common";
import { getMaxWidthQueryForSize, getSizesForBreakpoints, } from "../../../constants/device-sizes";
import { TARGET } from "../../../constants/target";
import { camelToKebabCase } from "../../../functions/camel-to-kebab-case";
import { createCssClass } from "../../../helpers/css";
import { checkIsDefined } from "../../../helpers/nullable";
import InlinedStyles from "../../inlined-styles";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export default class BlockStyles {
    constructor() {
        this.TARGET = TARGET;
    }
    get canShowBlock() {
        const processedBlock = this.block;
        // only render styles for blocks that are visible
        if (checkIsDefined(processedBlock.hide)) {
            return !processedBlock.hide;
        }
        if (checkIsDefined(processedBlock.show)) {
            return processedBlock.show;
        }
        return true;
    }
    get css() {
        const processedBlock = this.block;
        const styles = processedBlock.responsiveStyles;
        const content = this.context.content;
        const sizesWithUpdatedBreakpoints = getSizesForBreakpoints(content?.meta?.breakpoints || {});
        const contentHasXSmallBreakpoint = Boolean(content?.meta?.breakpoints?.xsmall);
        const largeStyles = styles?.large;
        const mediumStyles = styles?.medium;
        const smallStyles = styles?.small;
        const xsmallStyles = styles?.xsmall;
        const className = processedBlock.id;
        if (!className) {
            return "";
        }
        const largeStylesClass = largeStyles
            ? createCssClass({
                className,
                styles: largeStyles,
            })
            : "";
        const mediumStylesClass = mediumStyles
            ? createCssClass({
                className,
                styles: mediumStyles,
                mediaQuery: getMaxWidthQueryForSize("medium", sizesWithUpdatedBreakpoints),
            })
            : "";
        const smallStylesClass = smallStyles
            ? createCssClass({
                className,
                styles: smallStyles,
                mediaQuery: getMaxWidthQueryForSize("small", sizesWithUpdatedBreakpoints),
            })
            : "";
        const xsmallStylesClass = xsmallStyles && contentHasXSmallBreakpoint
            ? createCssClass({
                className,
                styles: xsmallStyles,
                mediaQuery: getMaxWidthQueryForSize("xsmall", sizesWithUpdatedBreakpoints),
            })
            : "";
        const hoverAnimation = processedBlock.animations &&
            processedBlock.animations.find((item) => item.trigger === "hover");
        let hoverStylesClass = "";
        if (hoverAnimation) {
            const hoverStyles = hoverAnimation.steps?.[1]?.styles || {};
            hoverStylesClass =
                createCssClass({
                    className: `${className}:hover`,
                    styles: {
                        ...hoverStyles,
                        transition: `all ${hoverAnimation.duration}s ${camelToKebabCase(hoverAnimation.easing)}`,
                        transitionDelay: hoverAnimation.delay
                            ? `${hoverAnimation.delay}s`
                            : "0s",
                    },
                }) || "";
        }
        return [
            largeStylesClass,
            mediumStylesClass,
            smallStylesClass,
            xsmallStylesClass,
            hoverStylesClass,
        ].join(" ");
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: BlockStyles, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: BlockStyles, isStandalone: true, selector: "block-styles", inputs: { block: "block", context: "context" }, ngImport: i0, template: `
    <ng-container *ngIf="TARGET !== 'reactNative' && css && canShowBlock">
      <inlined-styles
        id="builderio-block"
        [styles]="css"
        [nonce]="context.nonce"
      ></inlined-styles>
    </ng-container>
  `, isInline: true, styles: [":host{display:contents}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: InlinedStyles, selector: "inlined-styles, InlinedStyles", inputs: ["styles", "id", "nonce"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: BlockStyles, decorators: [{
            type: Component,
            args: [{ selector: "block-styles", template: `
    <ng-container *ngIf="TARGET !== 'reactNative' && css && canShowBlock">
      <inlined-styles
        id="builderio-block"
        [styles]="css"
        [nonce]="context.nonce"
      ></inlined-styles>
    </ng-container>
  `, standalone: true, imports: [CommonModule, InlinedStyles], styles: [":host{display:contents}\n"] }]
        }], propDecorators: { block: [{
                type: Input
            }], context: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmxvY2stc3R5bGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvYmxvY2svY29tcG9uZW50cy9ibG9jay1zdHlsZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDakQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBTy9DLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsc0JBQXNCLEdBQ3ZCLE1BQU0saUNBQWlDLENBQUM7QUFDekMsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBRW5ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHdDQUF3QyxDQUFDO0FBQzFFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFM0QsT0FBTyxhQUFhLE1BQU0sc0JBQXNCLENBQUM7OztBQXVCakQsTUFBTSxDQUFDLE9BQU8sT0FBTyxXQUFXO0lBckJoQztRQXNCRSxXQUFNLEdBQUcsTUFBTSxDQUFDO0tBbUdqQjtJQTlGQyxJQUFJLFlBQVk7UUFDZCxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ2xDLGlEQUFpRDtRQUNqRCxJQUFJLGNBQWMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdkMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUM7U0FDN0I7UUFDRCxJQUFJLGNBQWMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdkMsT0FBTyxjQUFjLENBQUMsSUFBSSxDQUFDO1NBQzVCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0QsSUFBSSxHQUFHO1FBQ0wsTUFBTSxjQUFjLEdBQUcsSUFBSSxD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aEIsaUJBQWlCO1lBQ2pCLGdCQUFnQjtTQUNqQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNkLENBQUM7K0dBbkdrQixXQUFXO21HQUFYLFdBQVcsd0hBbkJwQjs7Ozs7Ozs7R0FRVCxrR0FTUyxZQUFZLG1JQUFFLGFBQWE7OzRGQUVsQixXQUFXO2tCQXJCL0IsU0FBUzsrQkFDRSxjQUFjLFlBQ2Q7Ozs7Ozs7O0dBUVQsY0FRVyxJQUFJLFdBQ1AsQ0FBQyxZQUFZLEVBQUUsYUFBYSxDQUFDOzhCQUs3QixLQUFLO3NCQUFiLEtBQUs7Z0JBQ0csT0FBTztzQkFBZixLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29tbW9uXCI7XG5cbmV4cG9ydCB0eXBlIEJsb2NrU3R5bGVzUHJvcHMgPSB7XG4gIGJsb2NrOiBCdWlsZGVyQmxvY2s7XG4gIGNvbnRleHQ6IEJ1aWxkZXJDb250ZXh0SW50ZXJmYWNlO1xufTtcblxuaW1wb3J0IHtcbiAgZ2V0TWF4V2lkdGhRdWVyeUZvclNpemUsXG4gIGdldFNpemVzRm9yQnJlYWtwb2ludHMsXG59IGZyb20gXCIuLi8uLi8uLi9jb25zdGFudHMvZGV2aWNlLXNpemVzXCI7XG5pbXBvcnQgeyBUQVJHRVQgfSBmcm9tIFwiLi4vLi4vLi4vY29uc3RhbnRzL3RhcmdldFwiO1xuaW1wb3J0IHR5cGUgeyBCdWlsZGVyQ29udGV4dEludGVyZmFjZSB9IGZyb20gXCIuLi8uLi8uLi9jb250ZXh0L3R5cGVzXCI7XG5pbXBvcnQgeyBjYW1lbFRvS2ViYWJDYXNlIH0gZnJvbSBcIi4uLy4uLy4uL2Z1bmN0aW9ucy9jYW1lbC10by1rZWJhYi1jYXNlXCI7XG5pbXBvcnQgeyBjcmVhdGVDc3NDbGFzcyB9IGZyb20gXCIuLi8uLi8uLi9oZWxwZXJzL2Nzc1wiO1xuaW1wb3J0IHsgY2hlY2tJc0RlZmluZWQgfSBmcm9tIFwiLi4vLi4vLi4vaGVscGVycy9udWxsYWJsZVwiO1xuaW1wb3J0IHR5cGUgeyBCdWlsZGVyQmxvY2sgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXMvYnVpbGRlci1ibG9ja1wiO1xuaW1wb3J0IElubGluZWRTdHlsZXMgZnJvbSBcIi4uLy4uL2lubGluZWQtc3R5bGVzXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogXCJibG9jay1zdHlsZXNcIixcbiAgdGVtcGxhdGU6IGBcbiAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiVEFSR0VUICE9PSAncmVhY3ROYXRpdmUnICYmIGNzcyAmJiBjYW5TaG93QmxvY2tcIj5cbiAgICAgIDxpbmxpbmVkLXN0eWxlc1xuICAgICAgICBpZD1cImJ1aWxkZXJpby1ibG9ja1wiXG4gICAgICAgIFtzdHlsZXNdPVwiY3NzXCJcbiAgICAgICAgW25vbmNlXT1cImNvbnRleHQubm9uY2VcIlxuICAgICAgPjwvaW5saW5lZC1zdHlsZXM+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIGAsXG4gIHN0eWxlczogW1xuICAgIGBcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogY29udGVudHM7XG4gICAgICB9XG4gICAgYCxcbiAgXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgSW5saW5lZFN0eWxlc10sXG59KVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmxvY2tTdHlsZXMge1xuICBUQVJHRVQgPSBUQVJHRVQ7XG5cbiAgQElucHV0KCkgYmxvY2shOiBCbG9ja1N0eWxlc1Byb3BzW1wiYmxvY2tcIl07XG4gIEBJbnB1dCgpIGNvbnRleHQhOiBCbG9ja1N0eWxlc1Byb3BzW1wiY29udGV4dFwiXTtcblxuICBnZXQgY2FuU2hvd0Jsb2NrKCkge1xuICAgIGNvbnN0IHByb2Nlc3NlZEJsb2NrID0gdGhpcy5ibG9jaztcbiAgICAvLyBvbmx5IHJlbmRlciBzdHlsZXMgZm9yIGJsb2NrcyB0aGF0IGFyZSB2aXNpYmxlXG4gICAgaWYgKGNoZWNrSXNEZWZpbmVkKHByb2Nlc3NlZEJsb2NrLmhpZGUpKSB7XG4gICAgICByZXR1cm4gIXByb2Nlc3NlZEJsb2NrLmhpZGU7XG4gICAgfVxuICAgIGlmIChjaGVja0lzRGVmaW5lZChwcm9jZXNzZWRCbG9jay5zaG93KSkge1xuICAgICAgcmV0dXJuIHByb2Nlc3NlZEJsb2NrLnNob3c7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGdldCBjc3MoKSB7XG4gICAgY29uc3QgcHJvY2Vzc2VkQmxvY2sgPSB0aGlzLmJsb2NrO1xuICAgIGNvbnN0IHN0eWxlcyA9IHByb2Nlc3NlZEJsb2NrLnJlc3BvbnNpdmVTdHlsZXM7XG4gICAgY29uc3QgY29udGVudCA9IHRoaXMuY29udGV4dC5jb250ZW50O1xuICAgIGNvbnN0IHNpemVzV2l0aFVwZGF0ZWRCcmVha3BvaW50cyA9IGdldFNpemVzRm9yQnJlYWtwb2ludHMoXG4gICAgICBjb250ZW50Py5tZXRhPy5icmVha3BvaW50cyB8fCB7fVxuICAgICk7XG4gICAgY29uc3QgY29udGVudEhhc1hTbWFsbEJyZWFrcG9pbnQgPSBCb29sZWFuKFxuICAgICAgY29udGVudD8ubWV0YT8uYnJlYWtwb2ludHM/LnhzbWFsbFxuICAgICk7XG4gICAgY29uc3QgbGFyZ2VTdHlsZXMgPSBzdHlsZXM/LmxhcmdlO1xuICAgIGNvbnN0IG1lZGl1bVN0eWxlcyA9IHN0eWxlcz8ubWVkaXVtO1xuICAgIGNvbnN0IHNtYWxsU3R5bGVzID0gc3R5bGVzPy5zbWFsbDtcbiAgICBjb25zdCB4c21hbGxTdHlsZXMgPSBzdHlsZXM/LnhzbWFsbDtcbiAgICBjb25zdCBjbGFzc05hbWUgPSBwcm9jZXNzZWRCbG9jay5pZDtcbiAgICBpZiAoIWNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IGxhcmdlU3R5bGVzQ2xhc3MgPSBsYXJnZVN0eWxlc1xuICAgICAgPyBjcmVhdGVDc3NDbGFzcyh7XG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlczogbGFyZ2VTdHlsZXMsXG4gICAgICAgIH0pXG4gICAgICA6IFwiXCI7XG4gICAgY29uc3QgbWVkaXVtU3R5bGVzQ2xhc3MgPSBtZWRpdW1TdHlsZXNcbiAgICAgID8gY3JlYXRlQ3NzQ2xhc3Moe1xuICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZXM6IG1lZGl1bVN0eWxlcyxcbiAgICAgICAgICBtZWRpYVF1ZXJ5OiBnZXRNYXhXaWR0aFF1ZXJ5Rm9yU2l6ZShcbiAgICAgICAgICAgIFwibWVkaXVtXCIsXG4gICAgICAgICAgICBzaXplc1dpdGhVcGRhdGVkQnJlYWtwb2ludHNcbiAgICAgICAgICApLFxuICAgICAgICB9KVxuICAgICAgOiBcIlwiO1xuICAgIGNvbnN0IHNtYWxsU3R5bGVzQ2xhc3MgPSBzbWFsbFN0eWxlc1xuICAgICAgPyBjcmVhdGVDc3NDbGFzcyh7XG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlczogc21hbGxTdHlsZXMsXG4gICAgICAgICAgbWVkaWFRdWVyeTogZ2V0TWF4V2lkdGhRdWVyeUZvclNpemUoXG4gICAgICAgICAgICBcInNtYWxsXCIsXG4gICAgICAgICAgICBzaXplc1dpdGhVcGRhdGVkQnJlYWtwb2ludHNcbiAgICAgICAgICApLFxuICAgICAgICB9KVxuICAgICAgOiBcIlwiO1xuICAgIGNvbnN0IHhzbWFsbFN0eWxlc0NsYXNzID1cbiAgICAgIHhzbWFsbFN0eWxlcyAmJiBjb250ZW50SGFzWFNtYWxsQnJlYWtwb2ludFxuICAgICAgICA/IGNyZWF0ZUNzc0NsYXNzKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgIHN0eWxlczogeHNtYWxsU3R5bGVzLFxuICAgICAgICAgICAgbWVkaWFRdWVyeTogZ2V0TWF4V2lkdGhRdWVyeUZvclNpemUoXG4gICAgICAgICAgICAgIFwieHNtYWxsXCIsXG4gICAgICAgICAgICAgIHNpemVzV2l0aFVwZGF0ZWRCcmVha3BvaW50c1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9KVxuICAgICAgICA6IFwiXCI7XG4gICAgY29uc3QgaG92ZXJBbmltYXRpb24gPVxuICAgICAgcHJvY2Vzc2VkQmxvY2suYW5pbWF0aW9ucyAmJlxuICAgICAgcHJvY2Vzc2VkQmxvY2suYW5pbWF0aW9ucy5maW5kKChpdGVtKSA9PiBpdGVtLnRyaWdnZXIgPT09IFwiaG92ZXJcIik7XG4gICAgbGV0IGhvdmVyU3R5bGVzQ2xhc3MgPSBcIlwiO1xuICAgIGlmIChob3ZlckFuaW1hdGlvbikge1xuICAgICAgY29uc3QgaG92ZXJTdHlsZXMgPSBob3ZlckFuaW1hdGlvbi5zdGVwcz8uWzFdPy5zdHlsZXMgfHwge307XG4gICAgICBob3ZlclN0eWxlc0NsYXNzID1cbiAgICAgICAgY3JlYXRlQ3NzQ2xhc3Moe1xuICAgICAgICAgIGNsYXNzTmFtZTogYCR7Y2xhc3NOYW1lfTpob3ZlcmAsXG4gICAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgICAuLi5ob3ZlclN0eWxlcyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGBhbGwgJHtob3ZlckFuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxUb0tlYmFiQ2FzZShcbiAgICAgICAgICAgICAgaG92ZXJBbmltYXRpb24uZWFzaW5nXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRGVsYXk6IGhvdmVyQW5pbWF0aW9uLmRlbGF5XG4gICAgICAgICAgICAgID8gYCR7aG92ZXJBbmltYXRpb24uZGVsYXl9c2BcbiAgICAgICAgICAgICAgOiBcIjBzXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkgfHwgXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIGxhcmdlU3R5bGVzQ2xhc3MsXG4gICAgICBtZWRpdW1TdHlsZXNDbGFzcyxcbiAgICAgIHNtYWxsU3R5bGVzQ2xhc3MsXG4gICAgICB4c21hbGxTdHlsZXNDbGFzcyxcbiAgICAgIGhvdmVyU3R5bGVzQ2xhc3MsXG4gICAgXS5qb2luKFwiIFwiKTtcbiAgfVxufVxuIl19